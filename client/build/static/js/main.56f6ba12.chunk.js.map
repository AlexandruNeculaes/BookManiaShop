{"version":3,"sources":["images/BookTalk.png","images/about.jpg","images/BookManiaLogo.png","images/cart.jpg","images/mern.png","images/stripe.jpg","reducers/auth.js","constants/actionTypes.js","reducers/cart.js","reducers/index.js","reducers/books.js","reducers/posts.js","api/index.js","actions/posts.js","components/PostDetails/styles.js","components/PostDetails/CommentSection.jsx","components/PostDetails/PostDetails.jsx","actions/cart.js","components/Navbar/styles.js","components/Navbar/Navbar.js","components/Posts/Post/styles.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","components/styles.js","components/Pagination.jsx","components/PostsPage/styles.js","components/PostsPage/PostsPage.js","components/Auth/icon.js","components/Auth/styles.js","components/Auth/Input.js","components/Auth/Auth.js","actions/auth.js","actions/books.js","components/Books/Book/styles.js","components/Books/Book/Book.js","components/Books/styles.js","components/Books/Books.js","components/BookForm/styles.js","components/BookForm/BookForm.js","components/BookPagination.jsx","components/Home/styles.js","components/Home/Home.js","components/About/About.js","components/Cart/styles.js","components/Cart/CartItem/CartItem.js","components/Cart/Cart.js","components/BookDetails/styles.js","components/BookDetails/BookDetails.jsx","App.js","index.js"],"names":["module","exports","authReducer","state","authData","action","console","log","type","localStorage","setItem","JSON","stringify","data","loading","errors","clear","message","cartReducer","cart","isAlreadyPresent","find","item","_id","payload","map","qty","filter","reducers","combineReducers","books","isLoading","currentPage","numberOfPages","book","posts","post","auth","API","axios","create","baseURL","interceptors","request","use","req","getItem","headers","Authorization","parse","token","fetchPost","id","get","fetchPosts","page","fetchPostsBySearch","searchQuery","search","tags","likePost","patch","comment","value","updatePost","updatedPost","deletePost","delete","fetchBook","fetchBooks","fetchBooksBySearch","updateBook","updatedBook","deleteBook","signIn","formData","signUp","doPayment","getPostsBySearch","dispatch","a","api","createPost","history","newPost","push","user","commentPost","comments","makeStyles","theme","media","borderRadius","objectFit","width","maxHeight","card","display","backgroundColor","blue","breakpoints","down","flexWrap","flexDirection","section","margin","flex","imageSection","marginLeft","recommendedBooks","loadingPaper","justifyContent","alignItems","padding","height","commentsOuterContainer","commentsInnerContainer","overflowY","marginRight","CommentSection","useState","setComment","useDispatch","setComments","classes","useStyles","commentsRef","useRef","handleComment","result","name","newComments","current","scrollIntoView","behavior","className","Typography","gutterBottom","variant","c","i","key","split","ref","style","TextField","fullWidth","rows","label","multiline","onChange","e","target","Button","marginTop","disabled","length","color","onClick","to","Post","useSelector","useHistory","useParams","useEffect","getPost","join","Paper","elevation","CircularProgress","size","recommendedPosts","component","title","tag","moment","createdAt","fromNow","Divider","src","selectedFile","alt","likes","cursor","openPost","removeFromCart","adjustQty","appBar","heading","palette","primary","main","textDecoration","fontSize","fontWeight","image","toolbar","profile","logout","userName","textAlign","brandContainer","purple","getContrastText","deepPurple","imagecart","cartlogo_badge","Navbar","setUser","location","useLocation","cartCount","setCartCount","count","forEach","decode","exp","Date","getTime","AppBar","position","Link","BookManiaLogo","BookTalk","About","Badge","badgeContent","cartImage","Toolbar","Avatar","imageUrl","charAt","paddingTop","backgroundBlendMode","border","fullHeightCard","green","overlay","top","left","overlay2","right","grid","details","cardActions","cardAction","setCurrentId","setLikes","userId","googleId","hasLikedPost","like","handleLike","Likes","Card","raised","ButtonBase","CardMedia","creator","stopPropagation","CardContent","splice","CardActions","mainContainer","smMargin","spacing","Posts","Grid","container","xs","sm","md","lg","root","paper","form","fileInput","buttonSubmit","marginBottom","Form","currentId","postData","setPostData","handleSubmit","preventDefault","align","autoComplete","noValidate","onSubmit","onAdd","chip","onDelete","chipToDelete","multiple","onDone","base64","ul","Paginate","getPosts","Pagination","Number","renderItem","PaginationItem","appBarSearch","pagination","gridContainer","PostsPage","query","URLSearchParams","setSearch","setTags","searchPost","trim","Grow","in","Container","maxWidth","justify","onKeyDown","keyCode","searchButton","icon","viewBox","fill","d","avatar","secondary","submit","googleButton","Input","handleChange","half","autoFocus","handleShowPassword","required","InputProps","endAdornment","InputAdornment","IconButton","initialState","firstName","lastName","email","password","confirmPassword","SignUp","setForm","isSignup","setIsSignup","showPassword","setShowPassword","googleSuccess","res","profileObj","tokenId","error","router","signin","clientId","render","renderProps","startIcon","onSuccess","onFailure","cookiePolicy","prevIsSignup","getBooksBySearch","createBook","newBook","Book","role","author","year","publisher","price","Books","BookForm","bookData","setBookData","BookPaginate","getBooks","Home","bookCurrentId","setBookCurrentId","searchBook","BookPagination","App","mern","CartItem","Cart","totalPrice","setTotalPrice","totalItems","setTotalItems","paymentMessage","setPaymentMessage","items","makePayment","body","status","setTimeout","cartItem","_key","Box","sx","stripeKey","process","billingAddress","amount","stripe","red","getBook","openBook","path","exact","BookDetails","PostDetails","Auth","store","createStore","compose","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.56f6ba12.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/BookTalk.c2d61c54.png\";","module.exports = __webpack_public_path__ + \"static/media/about.4022af70.jpg\";","module.exports = __webpack_public_path__ + \"static/media/BookManiaLogo.f3f13a49.png\";","module.exports = __webpack_public_path__ + \"static/media/cart.7b19840a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mern.094857c3.png\";","module.exports = __webpack_public_path__ + \"static/media/stripe.dc968dee.jpg\";","import * as actionType from \"../constants/actionTypes\";\r\n\r\n//auth reducer to set the state data for authentication\r\nconst authReducer = (state = { authData: null }, action) => {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case actionType.AUTH:\r\n      localStorage.setItem(\"profile\", JSON.stringify({ ...action?.data }));\r\n\r\n      return { ...state, authData: action.data, loading: false, errors: null };\r\n    case actionType.LOGOUT:\r\n      localStorage.clear();\r\n\r\n      return { ...state, authData: null, loading: false, errors: null };\r\n    case actionType.AUTH_ERROR:\r\n      return { ...state, errors: action.message };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","export const CREATE = \"CREATE\";\r\nexport const UPDATE = \"UPDATE\";\r\nexport const DELETE = \"DELETE\";\r\nexport const FETCH_ALL = \"FETCH_ALL\";\r\nexport const FETCH_BY_SEARCH = \"FETCH_BY_SEARCH\";\r\nexport const FETCH_POST = \"FETCH_POST\";\r\nexport const LIKE = \"LIKE\";\r\nexport const COMMENT = \"COMMENT\";\r\nexport const END_LOADING = \"END_LOADING\";\r\nexport const START_LOADING = \"START_LOADING\";\r\nexport const FETCH_BOOK = \"FETCH_BOOK\";\r\n\r\nexport const AUTH = \"AUTH\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\n\r\n//action types for cart\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const ADJUST_QTY = \"ADJUST_QTY\";\r\nexport const EMPTY_CART = \"EMPTY_CART\";\r\n","import {\r\n  ADD_TO_CART,\r\n  REMOVE_FROM_CART,\r\n  ADJUST_QTY,\r\n  EMPTY_CART,\r\n} from \"../constants/actionTypes\";\r\n\r\n//cart reducer to set the state data for cart\r\nconst cartReducer = (state = { cart: [] }, action) => {\r\n  switch (action.type) {\r\n    //reducer to add the item to the cart\r\n    case ADD_TO_CART:\r\n      //checking if it is already present\r\n      const isAlreadyPresent = state.cart.find((item) =>\r\n        item._id === action.payload.item._id ? true : false\r\n      );\r\n      //if item is new adding it to cart else increasing it's quantity\r\n      return {\r\n        ...state,\r\n        cart: isAlreadyPresent\r\n          ? state.cart.map((item) =>\r\n              item._id === action.payload.item._id\r\n                ? { ...item, qty: item.qty + 1 }\r\n                : item\r\n            )\r\n          : [...state.cart, { ...action.payload.item, qty: 1 }],\r\n      };\r\n    //filtering the cart to remove the item\r\n    case REMOVE_FROM_CART:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((item) => item._id !== action.payload.item._id),\r\n      };\r\n    //empty the cart\r\n    case EMPTY_CART:\r\n      return {\r\n        ...state,\r\n        cart: [],\r\n      };\r\n    //adjusting the qty of cart items, it  can use the value to increase or decrease the cart quantity\r\n    case ADJUST_QTY:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map((item) =>\r\n          item._id === action.payload.item._id\r\n            ? { ...item, qty: action.payload.qty }\r\n            : item\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport posts from \"./posts\";\r\nimport auth from \"./auth\";\r\nimport books from \"./books\";\r\nimport cart from \"./cart\";\r\n\r\n//combining all the reducers\r\nexport const reducers = combineReducers({ books, posts, auth, cart });\r\n","import {\r\n  FETCH_ALL,\r\n  FETCH_BY_SEARCH,\r\n  FETCH_BOOK,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n} from \"../constants/actionTypes\";\r\n\r\n//books reducer to set the state data for books\r\nexport default (state = { isLoading: true, books: [] }, action) => {\r\n  switch (action.type) {\r\n    case \"START_LOADING\":\r\n      return { ...state, isLoading: true };\r\n    case \"END_LOADING\":\r\n      return { ...state, isLoading: false };\r\n    case FETCH_ALL:\r\n      return {\r\n        ...state,\r\n        books: action.payload.data,\r\n        currentPage: action.payload.currentPage,\r\n        numberOfPages: action.payload.numberOfPages,\r\n      };\r\n    case FETCH_BY_SEARCH:\r\n      return { ...state, books: action.payload.data };\r\n    case FETCH_BOOK:\r\n      return { ...state, book: action.payload.book };\r\n    case CREATE:\r\n      return { ...state, books: [...state.books, action.payload] };\r\n    case UPDATE:\r\n      return {\r\n        ...state,\r\n        books: state.books.map((book) =>\r\n          book._id === action.payload._id ? action.payload : book\r\n        ),\r\n      };\r\n    case DELETE:\r\n      return {\r\n        ...state,\r\n        books: state.books.filter((book) => book._id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  FETCH_ALL,\r\n  FETCH_BY_SEARCH,\r\n  FETCH_POST,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n  LIKE,\r\n  COMMENT,\r\n} from \"../constants/actionTypes\";\r\n\r\n//posts reducer to set the state data for posts\r\nexport default (state = { isLoading: true, posts: [] }, action) => {\r\n  switch (action.type) {\r\n    case \"START_LOADING\":\r\n      return { ...state, isLoading: true };\r\n    case \"END_LOADING\":\r\n      return { ...state, isLoading: false };\r\n    case FETCH_ALL:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.data,\r\n        currentPage: action.payload.currentPage,\r\n        numberOfPages: action.payload.numberOfPages,\r\n      };\r\n    case FETCH_BY_SEARCH:\r\n      return { ...state, posts: action.payload.data };\r\n    case FETCH_POST:\r\n      return { ...state, post: action.payload.post };\r\n    case LIKE:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) =>\r\n          post._id === action.payload._id ? action.payload : post\r\n        ),\r\n      };\r\n    case COMMENT:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) => {\r\n          if (post._id === action.payload._id) {\r\n            return action.payload;\r\n          }\r\n          return post;\r\n        }),\r\n      };\r\n    case CREATE:\r\n      return { ...state, posts: [...state.posts, action.payload] };\r\n    case UPDATE:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) =>\r\n          post._id === action.payload._id ? action.payload : post\r\n        ),\r\n      };\r\n    case DELETE:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post._id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\n//configurng the axios\r\nconst API = axios.create({\r\n  baseURL: \"https://book-mania-shop.herokuapp.com/\",\r\n});\r\n/*https://book-mania-shop.herokuapp.com/\r\nhttp://localhost:5000*/\r\n\r\nAPI.interceptors.request.use((req) => {\r\n  if (localStorage.getItem(\"profile\")) {\r\n    req.headers.Authorization = `Bearer ${\r\n      JSON.parse(localStorage.getItem(\"profile\")).token\r\n    }`;\r\n  }\r\n\r\n  return req;\r\n});\r\n\r\n//api requests\r\n\r\nexport const fetchPost = (id) => API.get(`/posts/${id}`);\r\nexport const fetchPosts = (page) => API.get(`/posts?page=${page}`);\r\nexport const fetchPostsBySearch = (searchQuery) =>\r\n  API.get(\r\n    `/posts/search?searchQuery=${searchQuery.search || \"none\"}&tags=${\r\n      searchQuery.tags\r\n    }`\r\n  );\r\nexport const createPost = (newPost) => API.post(\"/posts\", newPost);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const comment = (value, id) =>\r\n  API.post(`/posts/${id}/commentPost`, { value });\r\nexport const updatePost = (id, updatedPost) =>\r\n  API.patch(`/posts/${id}`, updatedPost);\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\n\r\nexport const fetchBook = (id) => API.get(`/books/${id}`);\r\nexport const fetchBooks = (page) => API.get(`/books?page=${page}`);\r\nexport const fetchBooksBySearch = (searchQuery) =>\r\n  API.get(\r\n    `/books/search?searchQuery=${searchQuery.search || \"none\"}&tags=${\r\n      searchQuery.tags\r\n    }`\r\n  );\r\nexport const createBook = (newBook) => API.post(\"/books\", newBook);\r\nexport const updateBook = (id, updatedBook) =>\r\n  API.patch(`/books/${id}`, updatedBook);\r\nexport const deleteBook = (id) => API.delete(`/books/${id}`);\r\n\r\nexport const signIn = (formData) => API.post(\"/user/signin\", formData);\r\nexport const signUp = (formData) => API.post(\"/user/signup\", formData);\r\n\r\n//api to connect to backend and process the payment\r\nexport const doPayment = (data) => API.post(\"/payment/\", data);\r\n","import {\r\n  START_LOADING,\r\n  END_LOADING,\r\n  FETCH_ALL,\r\n  FETCH_POST,\r\n  FETCH_BY_SEARCH,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n  LIKE,\r\n  COMMENT\r\n} from \"../constants/actionTypes\";\r\nimport * as api from \"../api/index.js\";\r\n\r\n//function for actions related to posts and dispatching the data to the reducers\r\n\r\nexport const getPost = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n\r\n    const { data } = await api.fetchPost(id);\r\n\r\n    dispatch({ type: FETCH_POST, payload: { post: data } });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getPosts = (page) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data, currentPage, numberOfPages },\r\n    } = await api.fetchPosts(page);\r\n\r\n    dispatch({\r\n      type: FETCH_ALL,\r\n      payload: { data, currentPage, numberOfPages },\r\n    });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getPostsBySearch = (searchQuery) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data },\r\n    } = await api.fetchPostsBySearch(searchQuery);\r\n\r\n    dispatch({ type: FETCH_BY_SEARCH, payload: { data } });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createPost = (post, history) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.createPost(post);\r\n\r\n    dispatch({ type: CREATE, payload: data });\r\n\r\n    history.push(`/posts/${data._id}`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updatePost(id, post);\r\n\r\n    dispatch({ type: UPDATE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const likePost = (id) => async (dispatch) => {\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n  try {\r\n    const { data } = await api.likePost(id, user?.token);\r\n\r\n    dispatch({ type: LIKE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const commentPost = (value, id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.comment(value, id);\r\n\r\n    dispatch({ type: COMMENT, payload: data });\r\n\r\n    return data.comments;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n  try {\r\n    await await api.deletePost(id);\r\n\r\n    dispatch({ type: DELETE, payload: id });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { blue } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  media: {\r\n    borderRadius: \"20px\",\r\n    objectFit: \"cover\",\r\n    width: \"100%\",\r\n    maxHeight: \"600px\",\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    backgroundColor: blue[50],\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexWrap: \"wrap\",\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  section: {\r\n    borderRadius: \"20px\",\r\n    margin: \"10px\",\r\n    flex: 1,\r\n  },\r\n  imageSection: {\r\n    marginLeft: \"20px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  recommendedBooks: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  loadingPaper: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: \"20px\",\r\n    borderRadius: \"15px\",\r\n    height: \"39vh\",\r\n  },\r\n  commentsOuterContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  commentsInnerContainer: {\r\n    height: \"200px\",\r\n    overflowY: \"auto\",\r\n    marginRight: \"30px\",\r\n  },\r\n}));\r\n","import React, { useState, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Typography, TextField, Button } from \"@material-ui/core/\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { commentPost } from \"../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\n//component for comments\r\nconst CommentSection = ({ post }) => {\r\n  //getting user from local storage\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  const [comment, setComment] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const [comments, setComments] = useState(post?.comments);\r\n  const classes = useStyles();\r\n  const commentsRef = useRef();\r\n\r\n  //function to add new comments to post\r\n  const handleComment = async () => {\r\n    const newComments = await dispatch(\r\n      commentPost(`${user?.result?.name}: ${comment}`, post._id)\r\n    );\r\n\r\n    setComment(\"\");\r\n    setComments(newComments);\r\n\r\n    commentsRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.commentsOuterContainer}>\r\n        <div className={classes.commentsInnerContainer}>\r\n          <Typography gutterBottom variant=\"h6\">\r\n            Comments\r\n          </Typography>\r\n          {comments?.map((c, i) => (\r\n            <Typography key={i} gutterBottom variant=\"subtitle1\">\r\n              <strong>{c.split(\": \")[0]}</strong>\r\n              {c.split(\":\")[1]}\r\n            </Typography>\r\n          ))}\r\n          <div ref={commentsRef} />\r\n        </div>\r\n        <div style={{ width: \"70%\" }}>\r\n          <Typography gutterBottom variant=\"h6\">\r\n            Write a comment\r\n          </Typography>\r\n          <TextField\r\n            fullWidth\r\n            rows={4}\r\n            variant=\"outlined\"\r\n            label=\"Comment\"\r\n            multiline\r\n            value={comment}\r\n            onChange={(e) => setComment(e.target.value)}\r\n          />\r\n          <br />\r\n\r\n          {user?.result?.name && (\r\n            <Button\r\n              style={{ marginTop: \"10px\" }}\r\n              fullWidth\r\n              disabled={!comment.length}\r\n              color=\"error\"\r\n              variant=\"contained\"\r\n              onClick={handleComment}\r\n            >\r\n              Comment\r\n            </Button>\r\n          )}\r\n          {!user?.result?.name && (\r\n            <Link to=\"/auth\">\r\n              <Button>Log in to comment on the post</Button>\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSection;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider,\r\n} from \"@material-ui/core/\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport CommentSection from \"./CommentSection\";\r\nimport { getPost, getPostsBySearch } from \"../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\n//compoent for posts\r\nconst Post = () => {\r\n  //getting the state from store\r\n  const { post, posts, isLoading } = useSelector((state) => state.posts);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id));\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      dispatch(\r\n        getPostsBySearch({ search: \"none\", tags: post?.tags.join(\",\") })\r\n      );\r\n    }\r\n  }, [post, dispatch]);\r\n\r\n  if (!post) return null;\r\n\r\n  const openPost = (_id) => history.push(`/posts/${_id}`);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Paper elevation={6} className={classes.loadingPaper}>\r\n        <CircularProgress size=\"7em\" />\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  const recommendedPosts = posts.filter(({ _id }) => _id !== post._id);\r\n\r\n  return (\r\n    <Paper style={{ padding: \"20px\", borderRadius: \"15px\" }} elevation={6}>\r\n      <div className={classes.card}>\r\n        <div className={classes.section}>\r\n          <Typography variant=\"h3\" color=\"primary\" component=\"h2\">\r\n            {post.title}\r\n          </Typography>\r\n          <Typography\r\n            gutterBottom\r\n            variant=\"h6\"\r\n            color=\"textSecondary\"\r\n            component=\"h2\"\r\n          >\r\n            {post.tags.map((tag) => `#${tag} `)}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body1\" component=\"p\">\r\n            {post.message}\r\n          </Typography>\r\n          <Typography variant=\"h6\" color=\"success\">\r\n            Created by: {post.name}\r\n          </Typography>\r\n          <Typography variant=\"body1\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </Typography>\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n          <CommentSection post={post} />\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n        </div>\r\n        <div className={classes.imageSection}>\r\n          <img\r\n            className={classes.media}\r\n            src={\r\n              post.selectedFile ||\r\n              \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\r\n            }\r\n            alt={post.title}\r\n          />\r\n        </div>\r\n      </div>\r\n      {!!recommendedPosts.length && (\r\n        <div className={classes.section}>\r\n          <Typography gutterBottom variant=\"h5\" color=\"success\">\r\n            You might also like:\r\n          </Typography>\r\n          <Divider />\r\n          <div className={classes.recommendedPosts}>\r\n            {recommendedPosts.map(\r\n              ({ title, name, message, likes, selectedFile, _id }) => (\r\n                <div\r\n                  style={{ margin: \"20px\", cursor: \"pointer\" }}\r\n                  onClick={() => openPost(_id)}\r\n                  key={_id}\r\n                >\r\n                  <Typography gutterBottom variant=\"h6\">\r\n                    {title}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle2\">\r\n                    {name}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle2\">\r\n                    {message}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle1\">\r\n                    Likes: {likes.length}\r\n                  </Typography>\r\n                  <img src={selectedFile} width=\"200px\" alt={selectedFile} />\r\n                </div>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import {\r\n  ADD_TO_CART,\r\n  REMOVE_FROM_CART,\r\n  ADJUST_QTY,\r\n  EMPTY_CART,\r\n} from \"../constants/actionTypes\";\r\n\r\n//function for actions related to cart and dispatching the data to the reducers\r\nexport const addToCart = (item) => {\r\n  return {\r\n    type: ADD_TO_CART,\r\n    payload: {\r\n      item: item,\r\n    },\r\n  };\r\n};\r\n\r\nexport const removeFromCart = (item) => {\r\n  return {\r\n    type: REMOVE_FROM_CART,\r\n    payload: {\r\n      item: item,\r\n    },\r\n  };\r\n};\r\n\r\nexport const emptyCart = () => {\r\n  return {\r\n    type: EMPTY_CART,\r\n  };\r\n};\r\n\r\nexport const adjustQty = (item, value) => {\r\n  return {\r\n    type: ADJUST_QTY,\r\n    payload: {\r\n      item: item,\r\n      qty: value,\r\n    },\r\n  };\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { deepPurple } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    borderRadius: 15,\r\n    margin: \"30px 0\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n\r\n    padding: \"10px 50px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  heading: {\r\n    color: theme.palette.primary.main,\r\n    textDecoration: \"none\",\r\n    fontSize: \"2em\",\r\n    fontWeight: 300,\r\n  },\r\n  image: {\r\n    marginLeft: \"10px\",\r\n    marginTop: \"5px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"400px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  profile: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    width: \"400px\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"auto\",\r\n      marginTop: 20,\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n  logout: {\r\n    marginLeft: \"20px\",\r\n  },\r\n  userName: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  brandContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n\r\n  imagecart: {\r\n    marginLeft: \"10px\",\r\n    marginRight: \"0px\",\r\n    marginTop: \"5px\",\r\n  },\r\n  cartlogo_badge: {\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n    marginLeft: \"0px\",\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  AppBar,\r\n  Avatar,\r\n  Typography,\r\n  Toolbar,\r\n  Button,\r\n  Badge,\r\n} from \"@material-ui/core\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport decode from \"jwt-decode\";\r\nimport { emptyCart } from \"../../actions/cart\";\r\nimport * as actionType from \"../../constants/actionTypes\";\r\nimport useStyles from \"./styles\";\r\nimport BookTalk from \"../../images/BookTalk.png\";\r\nimport About from \"../../images/about.jpg\";\r\nimport BookManiaLogo from \"../../images/BookManiaLogo.png\";\r\nimport cartImage from \"../../images/cart.jpg\";\r\n\r\n/* eslint-disable */\r\nconst Navbar = () => {\r\n  //getting user from local storage and setting it as state\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  //getting state from state\r\n  const { cart } = useSelector((state) => state.cart);\r\n  const [cartCount, setCartCount] = useState(0);\r\n\r\n  //increasing the cart number when the cart length changes\r\n  useEffect(() => {\r\n    let count = 0;\r\n    cart.forEach((item) => {\r\n      count += item.qty;\r\n    });\r\n\r\n    setCartCount(count);\r\n  }, [cart]);\r\n\r\n  //function to logout the user\r\n  const logout = () => {\r\n    dispatch({ type: actionType.LOGOUT });\r\n    dispatch(emptyCart());\r\n\r\n    history.push(\"/auth\");\r\n\r\n    setUser(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = user?.token;\r\n\r\n    if (token) {\r\n      const decodedToken = decode(token);\r\n\r\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n    }\r\n\r\n    //storing the user in local storage\r\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\r\n  }, [location]);\r\n\r\n  return (\r\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n      <Link to=\"/\" className={classes.brandContainer}>\r\n        <img\r\n          component={Link}\r\n          to=\"/\"\r\n          src={BookManiaLogo}\r\n          alt=\"icon\"\r\n          height=\"60px\"\r\n        />\r\n      </Link>\r\n      <Link to=\"/posts\" className={classes.brandContainer}>\r\n        <img\r\n          className={classes.image}\r\n          src={BookTalk}\r\n          alt=\"icon\"\r\n          height=\"70px\"\r\n        />\r\n      </Link>\r\n      <Link to=\"/about\" className={classes.brandContainer}>\r\n        <img className={classes.image} src={About} alt=\"icon\" height=\"70px\" />\r\n      </Link>\r\n\r\n      <Link to=\"/cart\" className={classes.cart}>\r\n        <Badge badgeContent={cartCount} color=\"primary\">\r\n          <img\r\n            className={classes.image}\r\n            src={cartImage}\r\n            alt=\"icon\"\r\n            height=\"100px\"\r\n          />\r\n        </Badge>\r\n      </Link>\r\n      <Toolbar className={classes.toolbar}>\r\n        {user?.result ? (\r\n          <div className={classes.profile}>\r\n            <Avatar\r\n              className={classes.purple}\r\n              alt={user?.result.name}\r\n              src={user?.result.imageUrl}\r\n            >\r\n              {user?.result.name.charAt(0)}\r\n            </Avatar>\r\n            <Typography className={classes.userName} variant=\"h6\">\r\n              {user?.result.name}\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.logout}\r\n              color=\"secondary\"\r\n              onClick={logout}\r\n            >\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            component={Link}\r\n            to=\"/auth\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            Sign In\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n    backgroundBlendMode: \"darken\",\r\n  },\r\n  border: {\r\n    border: \"solid\",\r\n  },\r\n  fullHeightCard: {\r\n    height: \"100%\",\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    borderRadius: \"15px\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    backgroundColor: green[50],\r\n  },\r\n  overlay: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    left: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  overlay2: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    right: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  grid: {\r\n    display: \"flex\",\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"20px\",\r\n  },\r\n  title: {\r\n    padding: \"0 16px\",\r\n  },\r\n  cardActions: {\r\n    padding: \"0 16px 8px 16px\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  cardAction: {\r\n    display: \"block\",\r\n    textAlign: \"initial\",\r\n  },\r\n});\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardMedia,\r\n  Button,\r\n  Typography,\r\n  ButtonBase,\r\n} from \"@material-ui/core/\";\r\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport ThumbUpAltOutlined from \"@material-ui/icons/ThumbUpAltOutlined\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { likePost, deletePost } from \"../../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\n//componet for individual post\r\nconst Post = ({ post, setCurrentId }) => {\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  const [likes, setLikes] = useState(post?.likes);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const userId = user?.result.googleId || user?.result?._id;\r\n  const hasLikedPost = post?.likes?.find((like) => like === userId);\r\n\r\n  //fucntion to like the post\r\n  const handleLike = async () => {\r\n    dispatch(likePost(post._id));\r\n\r\n    if (hasLikedPost) {\r\n      setLikes(post.likes?.filter((id) => id !== userId));\r\n    } else {\r\n      setLikes([...post.likes, userId]);\r\n    }\r\n  };\r\n\r\n  const Likes = () => {\r\n    if (likes?.length > 0) {\r\n      return likes.find((like) => like === userId) ? (\r\n        <>\r\n          <ThumbUpAltIcon fontSize=\"small\" />\r\n          &nbsp;\r\n          {likes.length > 2\r\n            ? `You and ${likes.length - 1} others`\r\n            : `${likes.length} like${likes.length > 1 ? \"s\" : \"\"}`}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <ThumbUpAltOutlined fontSize=\"small\" />\r\n          &nbsp;{likes.length} {likes.length === 1 ? \"Like\" : \"Likes\"}\r\n        </>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <ThumbUpAltOutlined fontSize=\"small\" />\r\n        &nbsp;Like\r\n      </>\r\n    );\r\n  };\r\n\r\n  const openPost = (e) => {\r\n    // dispatch(getPost(post._id, history));\r\n\r\n    history.push(`/posts/${post._id}`);\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.card} raised elevation={6}>\r\n      <ButtonBase\r\n        component=\"span\"\r\n        name=\"test\"\r\n        className={classes.cardAction}\r\n        onClick={openPost}\r\n      >\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={\r\n            post.selectedFile ||\r\n            \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\r\n          }\r\n          title={post.title}\r\n        />\r\n        <div className={classes.overlay}>\r\n          <Typography variant=\"h6\">{post.name}</Typography>\r\n          <Typography variant=\"body2\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </Typography>\r\n        </div>\r\n        {(user?.result?.googleId === post?.creator ||\r\n          user?.result?._id === post?.creator) && (\r\n          <div className={classes.overlay2} name=\"edit\">\r\n            <Button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setCurrentId(post._id);\r\n              }}\r\n              style={{ color: \"white\" }}\r\n              size=\"small\"\r\n            >\r\n              <MoreHorizIcon fontSize=\"default\" />\r\n            </Button>\r\n          </div>\r\n        )}\r\n        <div className={classes.details}>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\r\n            {post.tags.map((tag) => `#${tag} `)}\r\n          </Typography>\r\n        </div>\r\n        <Typography\r\n          className={classes.title}\r\n          gutterBottom\r\n          variant=\"h5\"\r\n          component=\"h2\"\r\n        >\r\n          {post.title}\r\n        </Typography>\r\n        <CardContent>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {post.message.split(\" \").splice(0, 20).join(\" \")}...\r\n          </Typography>\r\n        </CardContent>\r\n      </ButtonBase>\r\n      <CardActions className={classes.cardActions}>\r\n        <Button\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          disabled={!user?.result}\r\n          onClick={handleLike}\r\n        >\r\n          <Likes />\r\n        </Button>\r\n        {(user?.result?.googleId === post?.creator ||\r\n          user?.result?._id === post?.creator) && (\r\n          <Button\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n            onClick={() => dispatch(deletePost(post._id))}\r\n          >\r\n            <DeleteIcon fontSize=\"small\" /> &nbsp; Delete\r\n          </Button>\r\n        )}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { deepPurple } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  mainContainer: {\r\n    borderRadius: 15,\r\n    margin: \"30px 0\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: \"10px 50px\",\r\n  },\r\n  heading: {\r\n    color: \"rgba(0,183,255, 1)\",\r\n    textDecoration: \"none\",\r\n  },\r\n  image: {\r\n    marginLeft: \"15px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"400px\",\r\n  },\r\n  profile: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    width: \"400px\",\r\n  },\r\n  userName: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  brandContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  smMargin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n  [theme.breakpoints.down(\"sm\")]: {\r\n    appBar: {\r\n      padding: \"10px 20px\",\r\n    },\r\n    heading: {\r\n      display: \"none\",\r\n    },\r\n    userName: {\r\n      display: \"none\",\r\n    },\r\n    image: {\r\n      marginLeft: \"5px\",\r\n    },\r\n    toolbar: {\r\n      display: \"flex\",\r\n      justifyContent: \"flex-end\",\r\n      width: \"160px\",\r\n    },\r\n  },\r\n\r\n  actionDiv: {\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { Grid, CircularProgress } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Post from \"./Post/Post\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Posts = ({ setCurrentId }) => {\r\n  //getting the state from store\r\n  const { posts, isLoading } = useSelector((state) => state.posts);\r\n  const classes = useStyles();\r\n\r\n  //checking the posts length\r\n  if (!posts.length && !isLoading) return \"No posts\";\r\n\r\n  return isLoading ? (\r\n    <CircularProgress />\r\n  ) : (\r\n    <Grid\r\n      className={classes.container}\r\n      container\r\n      alignItems=\"stretch\"\r\n      spacing={3}\r\n    >\r\n      {posts?.map((post) => (\r\n        <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\r\n          <Post post={post} setCurrentId={setCurrentId} />\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n  },\r\n  fileInput: {\r\n    width: \"97%\",\r\n    margin: \"10px 0\",\r\n  },\r\n  buttonSubmit: {\r\n    marginBottom: 10,\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TextField, Button, Typography, Paper } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FileBase from \"react-file-base64\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nimport { createPost, updatePost } from \"../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\n//form component\r\nconst Form = ({ currentId, setCurrentId }) => {\r\n  //state to store the post data\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    message: \"\",\r\n    tags: [],\r\n    selectedFile: \"\",\r\n  });\r\n\r\n  //getting the post state from store\r\n  const post = useSelector((state) =>\r\n    currentId\r\n      ? state.posts.posts.find((message) => message._id === currentId)\r\n      : null\r\n  );\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  const history = useHistory();\r\n\r\n  //function to clear the post data\r\n  const clear = () => {\r\n    setCurrentId(0);\r\n    setPostData({ title: \"\", message: \"\", tags: [], selectedFile: \"\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!post?.title);\r\n    if (post) setPostData(post);\r\n  }, [post]);\r\n\r\n  //function to submit the form\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (currentId === 0) {\r\n      dispatch(createPost({ ...postData, name: user?.result?.name }, history));\r\n      clear();\r\n    } else {\r\n      dispatch(\r\n        updatePost(currentId, { ...postData, name: user?.result?.name })\r\n      );\r\n      clear();\r\n    }\r\n  };\r\n\r\n  if (!user?.result?.name) {\r\n    return (\r\n      <Paper className={classes.paper} elevation={6}>\r\n        <Typography variant=\"h6\" align=\"center\">\r\n          Please Sign In to be a part of book talk.\r\n        </Typography>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  const handleAddChip = (tag) => {\r\n    setPostData({ ...postData, tags: [...postData.tags, tag] });\r\n  };\r\n\r\n  const handleDeleteChip = (chipToDelete) => {\r\n    setPostData({\r\n      ...postData,\r\n      tags: postData.tags.filter((tag) => tag !== chipToDelete),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.paper} elevation={6}>\r\n      <form\r\n        autoComplete=\"off\"\r\n        noValidate\r\n        className={`${classes.root} ${classes.form}`}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Typography variant=\"h6\" color=\"primary\">\r\n          {currentId ? `Editing \"${post?.title}\"` : \"Post your Book Talk idea\"}\r\n        </Typography>\r\n        <TextField\r\n          name=\"title\"\r\n          variant=\"outlined\"\r\n          label=\"Book-Talk Title\"\r\n          fullWidth\r\n          value={postData.title}\r\n          onChange={(e) => setPostData({ ...postData, title: e.target.value })}\r\n        />\r\n        <TextField\r\n          name=\"message\"\r\n          variant=\"outlined\"\r\n          label=\"Book-Talk Message\"\r\n          fullWidth\r\n          multiline\r\n          rows={4}\r\n          value={postData.message}\r\n          onChange={(e) =>\r\n            setPostData({ ...postData, message: e.target.value })\r\n          }\r\n        />\r\n        <div style={{ padding: \"5px 0\", width: \"94%\" }}>\r\n          <ChipInput\r\n            name=\"tags\"\r\n            variant=\"outlined\"\r\n            label=\"Book-Talk Tags\"\r\n            fullWidth\r\n            value={postData.tags}\r\n            onAdd={(chip) => handleAddChip(chip)}\r\n            onDelete={(chip) => handleDeleteChip(chip)}\r\n          />\r\n        </div>\r\n        <div className={classes.fileInput}>\r\n          <FileBase\r\n            type=\"file\"\r\n            multiple={false}\r\n            onDone={({ base64 }) =>\r\n              setPostData({ ...postData, selectedFile: base64 })\r\n            }\r\n          />\r\n        </div>\r\n        <Button\r\n          className={classes.buttonSubmit}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          type=\"submit\"\r\n          fullWidth\r\n        >\r\n          Submit\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          size=\"small\"\r\n          onClick={clear}\r\n          fullWidth\r\n        >\r\n          Clear\r\n        </Button>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n  ul: {\r\n    justifyContent: \"space-around\",\r\n    \r\n  },\r\n}));\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Pagination, PaginationItem } from \"@material-ui/lab\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { getPosts } from \"../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst Paginate = ({ page }) => {\r\n  const { numberOfPages } = useSelector((state) => state.posts);\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (page) {\r\n      dispatch(getPosts(page));\r\n    }\r\n  }, [dispatch, page]);\r\n\r\n  return (\r\n    <Pagination\r\n      classes={{ ul: classes.ul }}\r\n      count={numberOfPages}\r\n      page={Number(page) || 1}\r\n      variant=\"outlined\"\r\n      color=\"primary\"\r\n      renderItem={(item) => (\r\n        <PaginationItem\r\n          {...item}\r\n          component={Link}\r\n          to={`/posts?page=${item.page}`}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBarSearch: {\r\n    borderRadius: 4,\r\n    marginBottom: \"1rem\",\r\n    display: \"flex\",\r\n    padding: \"16px\",\r\n  },\r\n  pagination: {\r\n    borderRadius: 4,\r\n    marginTop: \"1rem\",\r\n    padding: \"16px\",\r\n  },\r\n  gridContainer: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column-reverse\",\r\n    },\r\n  },\r\n}));\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Grow,\r\n  Grid,\r\n  AppBar,\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nimport { getPostsBySearch } from \"../../actions/posts\";\r\nimport Posts from \"../Posts/Posts\";\r\nimport Form from \"../Form/Form\";\r\nimport Pagination from \"../Pagination\";\r\nimport useStyles from \"./styles\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\nconst PostsPage = () => {\r\n  const classes = useStyles();\r\n  const query = useQuery();\r\n  const page = query.get(\"page\") || 1;\r\n  const searchQuery = query.get(\"searchQuery\");\r\n\r\n  //states\r\n  const [currentId, setCurrentId] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n  const history = useHistory();\r\n\r\n  //function to seach the posts\r\n  const searchPost = () => {\r\n    if (search.trim() || tags) {\r\n      dispatch(getPostsBySearch({ search, tags: tags.join(\",\") }));\r\n      history.push(\r\n        `/posts/search?searchQuery=${search || \"none\"}&tags=${tags.join(\",\")}`\r\n      );\r\n    } else {\r\n      history.push(\"/posts\");\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.keyCode === 13) {\r\n      searchPost();\r\n    }\r\n  };\r\n\r\n  const handleAddChip = (tag) => setTags([...tags, tag]);\r\n\r\n  const handleDeleteChip = (chipToDelete) =>\r\n    setTags(tags.filter((tag) => tag !== chipToDelete));\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid\r\n          container\r\n          justify=\"space-between\"\r\n          alignItems=\"stretch\"\r\n          spacing={3}\r\n          className={classes.gridContainer}\r\n        >\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Posts setCurrentId={setCurrentId} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <AppBar\r\n              className={classes.appBarSearch}\r\n              position=\"static\"\r\n              color=\"inherit\"\r\n            >\r\n              <TextField\r\n                onKeyDown={handleKeyPress}\r\n                name=\"search\"\r\n                variant=\"outlined\"\r\n                label=\"Search Book Talk posts\"\r\n                fullWidth\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n              />\r\n              <ChipInput\r\n                style={{ margin: \"10px 0\" }}\r\n                value={tags}\r\n                onAdd={(chip) => handleAddChip(chip)}\r\n                onDelete={(chip) => handleDeleteChip(chip)}\r\n                label=\"Search In Book-Talk By Tags\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Button\r\n                onClick={searchPost}\r\n                className={classes.searchButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                Search\r\n              </Button>\r\n            </AppBar>\r\n            <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n            {!searchQuery && !tags.length && (\r\n              <Paper className={classes.pagination} elevation={6}>\r\n                <Pagination page={page} />\r\n              </Paper>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default PostsPage;\r\n","import React from \"react\";\r\n\r\nconst icon = () => (\r\n  <svg style={{ width: \"20px\", height: \"20px\" }} viewBox=\"0 0 24 24\">\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default icon;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { TextField, Grid, InputAdornment, IconButton } from \"@material-ui/core\";\r\n\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\n\r\n//input component for authentication forms\r\nconst Input = ({\r\n  name,\r\n  handleChange,\r\n  label,\r\n  half,\r\n  autoFocus,\r\n  type,\r\n  handleShowPassword,\r\n}) => (\r\n  <Grid item xs={12} sm={half ? 6 : 12}>\r\n    <TextField\r\n      name={name}\r\n      onChange={handleChange}\r\n      variant=\"outlined\"\r\n      required\r\n      fullWidth\r\n      label={label}\r\n      autoFocus={autoFocus}\r\n      type={type}\r\n      InputProps={\r\n        name === \"password\"\r\n          ? {\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton onClick={handleShowPassword}>\r\n                    {type === \"password\" ? <Visibility /> : <VisibilityOff />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n            }\r\n          : null\r\n      }\r\n    />\r\n  </Grid>\r\n);\r\n\r\nexport default Input;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Paper,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\n\r\nimport Icon from \"./icon\";\r\nimport { signin, signup } from \"../../actions/auth\";\r\nimport { AUTH } from \"../../constants/actionTypes\";\r\nimport useStyles from \"./styles\";\r\nimport Input from \"./Input\";\r\n\r\nconst initialState = {\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  confirmPassword: \"\",\r\n};\r\n\r\n//signup and login page\r\nconst SignUp = () => {\r\n  const { errors } = useSelector((state) => state.auth);\r\n  //states\r\n  const [form, setForm] = useState(initialState);\r\n  const [isSignup, setIsSignup] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const handleShowPassword = () => setShowPassword(!showPassword);\r\n\r\n  const switchMode = () => {\r\n    setForm(initialState);\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  //submit function when a form is submitted\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (isSignup) {\r\n      dispatch(signup(form, history));\r\n    } else {\r\n      dispatch(signin(form, history));\r\n    }\r\n  };\r\n\r\n  const googleSuccess = async (res) => {\r\n    const result = res?.profileObj;\r\n    const token = res?.tokenId;\r\n\r\n    try {\r\n      dispatch({ type: AUTH, data: { result, token } });\r\n\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const googleError = () =>\r\n    console.log(\"Google Sign In was unsuccessful. Try again later\");\r\n\r\n  const handleChange = (e) =>\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper} elevation={6}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {isSignup ? \"Sign up\" : \"Sign in\"}\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            {isSignup && (\r\n              <>\r\n                <Input\r\n                  name=\"firstName\"\r\n                  label=\"First Name\"\r\n                  handleChange={handleChange}\r\n                  autoFocus\r\n                  half\r\n                />\r\n                <Input\r\n                  name=\"lastName\"\r\n                  label=\"Last Name\"\r\n                  handleChange={handleChange}\r\n                  half\r\n                />\r\n              </>\r\n            )}\r\n            <Input\r\n              name=\"email\"\r\n              label=\"Email Address\"\r\n              handleChange={handleChange}\r\n              type=\"email\"\r\n            />\r\n            <Input\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              handleChange={handleChange}\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              handleShowPassword={handleShowPassword}\r\n            />\r\n            {isSignup && (\r\n              <Input\r\n                name=\"confirmPassword\"\r\n                label=\"Repeat Password\"\r\n                handleChange={handleChange}\r\n                type=\"password\"\r\n              />\r\n            )}\r\n          </Grid>\r\n          <div style={{ marginTop: \"10px\" }}>\r\n            <Typography variant=\"body1\" component=\"p\" color=\"error\">\r\n              {errors}\r\n            </Typography>\r\n          </div>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            {isSignup ? \"Sign Up\" : \"Sign In\"}\r\n          </Button>\r\n          <GoogleLogin\r\n            clientId=\"564033717568-bu2nr1l9h31bhk9bff4pqbenvvoju3oq.apps.googleusercontent.com\"\r\n            render={(renderProps) => (\r\n              <Button\r\n                className={classes.googleButton}\r\n                color=\"primary\"\r\n                fullWidth\r\n                onClick={renderProps.onClick}\r\n                disabled={renderProps.disabled}\r\n                startIcon={<Icon />}\r\n                variant=\"contained\"\r\n              >\r\n                Google Sign In\r\n              </Button>\r\n            )}\r\n            onSuccess={googleSuccess}\r\n            onFailure={googleError}\r\n            cookiePolicy=\"single_host_origin\"\r\n          />\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Button onClick={switchMode} color=\"secondary\">\r\n                {isSignup\r\n                  ? \"Already have an account? Sign in\"\r\n                  : \"Don't have an account? Sign Up\"}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import { AUTH, AUTH_ERROR } from \"../constants/actionTypes\";\r\nimport * as api from \"../api/index.js\";\r\n\r\n//function for signin and dispatching the data to the reducers\r\nexport const signin = (formData, router) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.signIn(formData);\r\n\r\n    dispatch({ type: AUTH, data });\r\n\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    dispatch({\r\n      type: AUTH_ERROR,\r\n      message: \"Something went wrong! Please try again\",\r\n    });\r\n  }\r\n};\r\n\r\n//function for signup and dispatching the data to the reducers\r\nexport const signup = (formData, router) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.signUp(formData);\r\n\r\n    dispatch({ type: AUTH, data });\r\n\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    dispatch({\r\n      type: AUTH_ERROR,\r\n      message: \"Something went wrong! Please try again\",\r\n    });\r\n  }\r\n};\r\n","import {\r\n  START_LOADING,\r\n  END_LOADING,\r\n  FETCH_ALL,\r\n  FETCH_BOOK,\r\n  FETCH_BY_SEARCH,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n} from \"../constants/actionTypes\";\r\nimport * as api from \"../api/index.js\";\r\n\r\n//function for actions related to books and dispatching the data to the reducers\r\nexport const getBook = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n\r\n    const { data } = await api.fetchBook(id);\r\n\r\n    dispatch({ type: FETCH_BOOK, payload: { book: data } });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getBooks = (page) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data, currentPage, numberOfPages },\r\n    } = await api.fetchBooks(page);\r\n\r\n    dispatch({\r\n      type: FETCH_ALL,\r\n      payload: { data, currentPage, numberOfPages },\r\n    });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getBooksBySearch = (searchQuery) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const {\r\n      data: { data },\r\n    } = await api.fetchBooksBySearch(searchQuery);\r\n\r\n    dispatch({ type: FETCH_BY_SEARCH, payload: { data } });\r\n    dispatch({ type: END_LOADING });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createBook = (book, history) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: START_LOADING });\r\n    const { data } = await api.createBook(book);\r\n\r\n    dispatch({ type: CREATE, payload: data });\r\n\r\n    history.push(`/books/${data._id}`);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateBook = (id, book) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.updateBook(id, book);\r\n    console.log(data);\r\n    dispatch({ type: UPDATE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deleteBook = (id) => async (dispatch) => {\r\n  try {\r\n    await await api.deleteBook(id);\r\n\r\n    dispatch({ type: DELETE, payload: id });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n    backgroundBlendMode: \"darken\",\r\n  },\r\n  border: {\r\n    border: \"solid\",\r\n  },\r\n  fullHeightCard: {\r\n    height: \"100%\",\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    borderRadius: \"15px\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    backgroundColor: green[50],\r\n  },\r\n  overlay: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    left: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  overlay2: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    right: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  grid: {\r\n    display: \"flex\",\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"20px\",\r\n  },\r\n  title: {\r\n    padding: \"0 16px\",\r\n  },\r\n  cardActions: {\r\n    padding: \"0 16px 8px 16px\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  cardAction: {\r\n    display: \"block\",\r\n    textAlign: \"initial\",\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardMedia,\r\n  Button,\r\n  Typography,\r\n  ButtonBase,\r\n} from \"@material-ui/core/\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { deleteBook } from \"../../../actions/books\";\r\nimport useStyles from \"./styles\";\r\n\r\n//component for individual book card\r\nconst Book = ({ book, setCurrentId }) => {\r\n  //getting the user from local storage\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const openBook = (e) => {\r\n    // dispatch(getPost(post._id, history));\r\n\r\n    history.push(`/books/${book._id}`);\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.card} raised elevation={6}>\r\n      <ButtonBase\r\n        component=\"span\"\r\n        name=\"test\"\r\n        className={classes.cardAction}\r\n        onClick={openBook}\r\n      >\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={\r\n            book.selectedFile ||\r\n            \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\r\n          }\r\n          title={book.title}\r\n        />\r\n        <div className={classes.overlay}>\r\n          <Typography variant=\"body2\">\r\n            {moment(book.createdAt).fromNow()}\r\n          </Typography>\r\n        </div>\r\n        {(user?.result?.googleId === book?.creator ||\r\n          user?.result?._id === book?.creator ||\r\n          user?.result?.role === \"admin\") && (\r\n          <div className={classes.overlay2} name=\"edit\">\r\n            <Button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setCurrentId(book._id);\r\n              }}\r\n              style={{ color: \"white\" }}\r\n              size=\"small\"\r\n            >\r\n              <MoreHorizIcon fontSize=\"default\" />\r\n            </Button>\r\n          </div>\r\n        )}\r\n        <div className={classes.details}>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\r\n            {book.tags.map((tag) => `#${tag} `)}\r\n          </Typography>\r\n        </div>\r\n        <Typography\r\n          className={classes.title}\r\n          gutterBottom\r\n          variant=\"h5\"\r\n          component=\"h2\"\r\n        >\r\n          {book.title}\r\n        </Typography>\r\n        <Typography\r\n          className={classes.title}\r\n          gutterBottom\r\n          variant=\"h5\"\r\n          component=\"h2\"\r\n        >\r\n          {book.author}\r\n        </Typography>\r\n        <Typography\r\n          className={classes.title}\r\n          gutterBottom\r\n          variant=\"h5\"\r\n          component=\"h2\"\r\n        >\r\n          {book.year}\r\n        </Typography>\r\n        <Typography\r\n          className={classes.title}\r\n          gutterBottom\r\n          variant=\"h5\"\r\n          component=\"h2\"\r\n        >\r\n          {book.publisher}\r\n        </Typography>\r\n        <Typography\r\n          className={classes.title}\r\n          gutterBottom\r\n          color=\"error\"\r\n          variant=\"h5\"\r\n          component=\"h2\"\r\n        >\r\n          Price: {book.price}\r\n        </Typography>\r\n        <CardContent>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {book.message.split(\" \").splice(0, 20).join(\" \")}...\r\n          </Typography>\r\n        </CardContent>\r\n      </ButtonBase>\r\n      <CardActions className={classes.cardActions}>\r\n        {(user?.result?.googleId === book?.creator ||\r\n          user?.result?._id === book?.creator ||\r\n          user?.result?.role === \"admin\") && (\r\n          <Button\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n            onClick={() => dispatch(deleteBook(book._id))}\r\n          >\r\n            <DeleteIcon fontSize=\"small\" /> &nbsp; Delete\r\n          </Button>\r\n        )}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Book;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { deepPurple, blue } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  mainContainer: {\r\n    borderRadius: 15,\r\n    margin: \"30px 0\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: \"10px 50px\",\r\n    backgroundColor: blue[50],\r\n  },\r\n  heading: {\r\n    color: \"rgba(0,183,255, 1)\",\r\n    textDecoration: \"none\",\r\n  },\r\n  image: {\r\n    marginLeft: \"15px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"400px\",\r\n  },\r\n  profile: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    width: \"400px\",\r\n  },\r\n  userName: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  brandContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  smMargin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n  [theme.breakpoints.down(\"sm\")]: {\r\n    appBar: {\r\n      padding: \"10px 20px\",\r\n    },\r\n    heading: {\r\n      display: \"none\",\r\n    },\r\n    userName: {\r\n      display: \"none\",\r\n    },\r\n    image: {\r\n      marginLeft: \"5px\",\r\n    },\r\n    toolbar: {\r\n      display: \"flex\",\r\n      justifyContent: \"flex-end\",\r\n      width: \"160px\",\r\n    },\r\n  },\r\n\r\n  actionDiv: {\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { Grid, CircularProgress } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Book from \"./Book/Book\";\r\nimport useStyles from \"./styles\";\r\n\r\n//component to display the books\r\nconst Books = ({ setCurrentId }) => {\r\n  //getting the states from store\r\n  const { books, isLoading } = useSelector((state) => state.books);\r\n  console.log(\"BOOKS\", books);\r\n  const classes = useStyles();\r\n\r\n  if (!books.length && !isLoading) return \"No books\";\r\n\r\n  return isLoading ? (\r\n    <CircularProgress />\r\n  ) : (\r\n    <Grid\r\n      className={classes.container}\r\n      container\r\n      alignItems=\"stretch\"\r\n      spacing={3}\r\n    >\r\n      {books?.map((book) => (\r\n        <Grid key={book._id} item xs={12} sm={12} md={6} lg={3}>\r\n          <Book book={book} setCurrentId={setCurrentId} />\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Books;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n  },\r\n  fileInput: {\r\n    width: \"97%\",\r\n    margin: \"10px 0\",\r\n  },\r\n  buttonSubmit: {\r\n    marginBottom: 10,\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TextField, Button, Typography, Paper } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FileBase from \"react-file-base64\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nimport { createBook, updateBook } from \"../../actions/books\";\r\nimport useStyles from \"./styles\";\r\n\r\n//book form component\r\nconst BookForm = ({ currentId, setCurrentId }) => {\r\n  //state for book data\r\n  const [bookData, setBookData] = useState({\r\n    title: \"\",\r\n    author: \"\",\r\n    year: \"\",\r\n    publisher: \"\",\r\n    price: \"\",\r\n    message: \"\",\r\n    tags: [],\r\n    selectedFile: \"\",\r\n  });\r\n\r\n  //getting the book data from store\r\n  const book = useSelector((state) =>\r\n    currentId\r\n      ? state.books.books.find((message) => message._id === currentId)\r\n      : null\r\n  );\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  const history = useHistory();\r\n\r\n  //clear function to set the book data to intial state\r\n  const clear = () => {\r\n    setCurrentId(0);\r\n    setBookData({\r\n      title: \"\",\r\n      author: \"\",\r\n      year: \"\",\r\n      publisher: \"\",\r\n      price: \"\",\r\n      message: \"\",\r\n      tags: [],\r\n      selectedFile: \"\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!book?.title);\r\n    if (book) setBookData(book);\r\n  }, [book]);\r\n\r\n  //submit function to create a new book\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(bookData);\r\n    if (currentId === 0) {\r\n      //dispatching an action to create a new book\r\n      dispatch(createBook({ ...bookData, name: user?.result?.name }, history));\r\n      clear();\r\n    } else {\r\n      //disptaching action to update the exisitng book\r\n      dispatch(\r\n        updateBook(currentId, { ...bookData, name: user?.result?.name })\r\n      );\r\n      clear();\r\n    }\r\n  };\r\n\r\n  if (!user?.result?.name) {\r\n    return (\r\n      <Paper className={classes.paper} elevation={6}>\r\n        <Typography variant=\"h6\" align=\"center\">\r\n          Discover our full range of books.\r\n        </Typography>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  const handleAddChip = (tag) => {\r\n    setBookData({ ...bookData, tags: [...bookData.tags, tag] });\r\n  };\r\n\r\n  const handleDeleteChip = (chipToDelete) => {\r\n    setBookData({\r\n      ...bookData,\r\n      tags: bookData.tags.filter((tag) => tag !== chipToDelete),\r\n    });\r\n  };\r\n\r\n  //checking if the user is admin\r\n  const isAdmin = user.result.role === \"admin\";\r\n\r\n  return (\r\n    isAdmin && (\r\n      <Paper className={classes.paper} elevation={6}>\r\n        <form\r\n          autoComplete=\"off\"\r\n          noValidate\r\n          className={`${classes.root} ${classes.form}`}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <Typography variant=\"h6\" color=\"primary\">\r\n            {currentId ? `Editing \"${book?.title}\"` : \"Add Book\"}\r\n          </Typography>\r\n          <TextField\r\n            name=\"title\"\r\n            variant=\"outlined\"\r\n            label=\"Book Title\"\r\n            fullWidth\r\n            value={bookData.title}\r\n            onChange={(e) =>\r\n              setBookData({ ...bookData, title: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            name=\"author\"\r\n            variant=\"outlined\"\r\n            label=\"Book Author\"\r\n            fullWidth\r\n            value={bookData.author}\r\n            onChange={(e) =>\r\n              setBookData({ ...bookData, author: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            name=\"year\"\r\n            variant=\"outlined\"\r\n            label=\"Year\"\r\n            fullWidth\r\n            value={bookData.year}\r\n            onChange={(e) => setBookData({ ...bookData, year: e.target.value })}\r\n          />\r\n          <TextField\r\n            name=\"publisher\"\r\n            variant=\"outlined\"\r\n            label=\"Book Publisher\"\r\n            fullWidth\r\n            value={bookData.publisher}\r\n            onChange={(e) =>\r\n              setBookData({ ...bookData, publisher: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            name=\"message\"\r\n            variant=\"outlined\"\r\n            label=\"Book description\"\r\n            fullWidth\r\n            multiline\r\n            rows={4}\r\n            value={bookData.message}\r\n            onChange={(e) =>\r\n              setBookData({ ...bookData, message: e.target.value })\r\n            }\r\n          />\r\n          <TextField\r\n            name=\"price\"\r\n            variant=\"outlined\"\r\n            label=\"Book Price\"\r\n            fullWidth\r\n            value={bookData.price}\r\n            onChange={(e) =>\r\n              setBookData({ ...bookData, price: e.target.value })\r\n            }\r\n          />\r\n          <div style={{ padding: \"5px 0\", width: \"94%\" }}>\r\n            <ChipInput\r\n              name=\"tags\"\r\n              variant=\"outlined\"\r\n              label=\"Book tags\"\r\n              fullWidth\r\n              value={bookData.tags}\r\n              onAdd={(chip) => handleAddChip(chip)}\r\n              onDelete={(chip) => handleDeleteChip(chip)}\r\n            />\r\n          </div>\r\n          <div className={classes.fileInput}>\r\n            <FileBase\r\n              type=\"file\"\r\n              multiple={false}\r\n              onDone={({ base64 }) =>\r\n                setBookData({ ...bookData, selectedFile: base64 })\r\n              }\r\n            />\r\n          </div>\r\n          <Button\r\n            className={classes.buttonSubmit}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            type=\"submit\"\r\n            fullWidth\r\n          >\r\n            Submit\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"small\"\r\n            onClick={clear}\r\n            fullWidth\r\n          >\r\n            Clear\r\n          </Button>\r\n        </form>\r\n      </Paper>\r\n    )\r\n  );\r\n};\r\n\r\nexport default BookForm;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Pagination, PaginationItem } from \"@material-ui/lab\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { getBooks } from \"../actions/books\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst BookPaginate = ({ page }) => {\r\n  const { numberOfPages } = useSelector((state) => state.books);\r\n  const dispatch = useDispatch();\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (page) {\r\n      dispatch(getBooks(page));\r\n    }\r\n  }, [dispatch, page]);\r\n\r\n  return (\r\n    <Pagination\r\n      classes={{ ul: classes.ul }}\r\n      count={numberOfPages}\r\n      page={Number(page) || 1}\r\n      variant=\"outlined\"\r\n      color=\"primary\"\r\n      renderItem={(item) => (\r\n        <PaginationItem\r\n          {...item}\r\n          component={Link}\r\n          to={`/books?page=${item.page}`}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BookPaginate;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBarSearch: {\r\n    borderRadius: 4,\r\n    marginBottom: \"1rem\",\r\n    display: \"flex\",\r\n    padding: \"16px\",\r\n\r\n  },\r\n  pagination: {\r\n    borderRadius: 4,\r\n    marginTop: \"1rem\",\r\n    padding: \"16px\",\r\n  },\r\n  gridContainer: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column-reverse\",\r\n    },\r\n  },\r\n}));\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Grow,\r\n  Grid,\r\n  AppBar,\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nimport { getBooksBySearch } from \"../../actions/books\";\r\nimport Books from \"../Books/Books\";\r\nimport BookForm from \"../BookForm/BookForm\";\r\nimport BookPagination from \"../BookPagination\";\r\n\r\nimport useStyles from \"./styles\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\n//home component\r\nconst Home = () => {\r\n  const classes = useStyles();\r\n  const query = useQuery();\r\n  const page = query.get(\"page\") || 1;\r\n  const searchQuery = query.get(\"searchQuery\");\r\n\r\n  //states\r\n  const [bookCurrentId, setBookCurrentId] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n  const history = useHistory();\r\n\r\n  //function to search the book\r\n  const searchBook = () => {\r\n    if (search.trim() || tags) {\r\n      dispatch(getBooksBySearch({ search, tags: tags.join(\",\") }));\r\n      history.push(\r\n        `/books/search?searchQuery=${search || \"none\"}&tags=${tags.join(\",\")}`\r\n      );\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.keyCode === 13) {\r\n      searchBook();\r\n    }\r\n  };\r\n\r\n  const handleAddChip = (tag) => setTags([...tags, tag]);\r\n\r\n  const handleDeleteChip = (chipToDelete) =>\r\n    setTags(tags.filter((tag) => tag !== chipToDelete));\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid\r\n          container\r\n          justify=\"space-between\"\r\n          alignItems=\"stretch\"\r\n          spacing={3}\r\n          className={classes.gridContainer}\r\n        >\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Books setCurrentId={setBookCurrentId} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <AppBar\r\n              className={classes.appBarSearch}\r\n              position=\"static\"\r\n              color=\"inherit\"\r\n            >\r\n              <TextField\r\n                onKeyDown={handleKeyPress}\r\n                name=\"search\"\r\n                variant=\"outlined\"\r\n                label=\"Search Books\"\r\n                fullWidth\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n              />\r\n              <ChipInput\r\n                style={{ margin: \"10px 0\" }}\r\n                value={tags}\r\n                onAdd={(chip) => handleAddChip(chip)}\r\n                onDelete={(chip) => handleDeleteChip(chip)}\r\n                label=\"Search Book By Tags\"\r\n                variant=\"outlined\"\r\n              />\r\n              <Button\r\n                onClick={searchBook}\r\n                className={classes.searchButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >\r\n                Search\r\n              </Button>\r\n            </AppBar>\r\n            <BookForm\r\n              currentId={bookCurrentId}\r\n              setCurrentId={setBookCurrentId}\r\n            />\r\n            {!searchQuery && !tags.length && (\r\n              <Paper className={classes.pagination} elevation={6}>\r\n                <BookPagination page={page} />\r\n              </Paper>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport mern from \"../../images/mern.png\";\r\n\r\n//about page\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <h1\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"15vh\",\r\n        }}\r\n      >\r\n        About Book-Mania Shop\r\n      </h1>\r\n      <h2\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        Since the start of the COVID pandemic people have turned to indoor\r\n        activities that would fill their free time. One of those activities is\r\n        reading.\r\n      </h2>\r\n      <h2\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        With the temporarily closure of phisical book shops, readers shifted\r\n        their attention on the online.\r\n      </h2>\r\n      <h2\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        Here they can buy, discuss and recommend books in a world wide\r\n        community.\r\n      </h2>\r\n      <h2\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        Book-Mania Shop was created to deliver just that.\r\n      </h2>\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <img src={mern} alt=\"icon\" height=\"100px\" />\r\n      </div>\r\n      <h4\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        Designed and developed using MERN stack by Alexandru Neculaes | NCI\r\n        Final Project\r\n      </h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  gridContainer: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column-reverse\",\r\n    },\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { removeFromCart, adjustQty } from \"../../../actions/cart\";\r\nimport { Paper, IconButton } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport \"./CartItem.css\";\r\n\r\n//component for individual cart item\r\nconst CartItem = ({ book }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  //function to increase the quantity of an item\r\n  const increaseQtyHandler = () => {\r\n    dispatch(adjustQty(book, book.qty + 1));\r\n  };\r\n\r\n  //function to decrease the quantity of an item\r\n  const decreaseQtyHandler = () => {\r\n    if (book.qty === 1) {\r\n      dispatch(removeFromCart(book));\r\n    }\r\n    dispatch(adjustQty(book, book.qty - 1));\r\n  };\r\n\r\n  return (\r\n    <div style={{ margin: \"20px 0\" }}>\r\n      <Paper elevation={4}>\r\n        <div className=\"itemContainer\">\r\n          <div className=\"imageContainer\">\r\n            <img src={book.selectedFile} alt=\"\" />\r\n          </div>\r\n          <div className=\"contentContainer\">\r\n            <h1>{book.title}</h1>\r\n            <p>{book.author}</p>\r\n            <h4>{book.price}</h4>\r\n            <div className=\"btnContainer\">\r\n              <div className=\"qtyContainer\">\r\n                <IconButton onClick={decreaseQtyHandler}>\r\n                  <RemoveIcon />\r\n                </IconButton>\r\n                <h4>{book.qty}</h4>\r\n                <IconButton onClick={increaseQtyHandler}>\r\n                  <AddIcon />\r\n                </IconButton>\r\n              </div>\r\n              <div className=\"deleteContainer\">\r\n                <IconButton\r\n                  onClick={() => {\r\n                    dispatch(removeFromCart(book));\r\n                  }}\r\n                >\r\n                  <DeleteIcon color=\"error\" />\r\n                </IconButton>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport stripe from \"../../images/stripe.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as api from \"../../api/index.js\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport {\r\n  Container,\r\n  Grow,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  Paper,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport useStyles from \"./styles\";\r\nimport CartItem from \"./CartItem/CartItem\";\r\nimport { emptyCart } from \"../../actions/cart.js\";\r\n\r\n//stripe key\r\nconst KEY = process.env.REACT_APP_STRIPE_KEY;\r\n\r\n//component for cary\r\nconst Cart = () => {\r\n  const classes = useStyles();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //getting the cart state from store\r\n  const { cart } = useSelector((state) => state.cart);\r\n\r\n  //states\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const [paymentMessage, setPaymentMessage] = useState(\"\");\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n  useEffect(() => {\r\n    let items = 0;\r\n    let price = 0;\r\n    cart.forEach((item) => {\r\n      items += item.qty;\r\n      price += item.qty * item.price;\r\n    });\r\n\r\n    setTotalItems(items);\r\n    setTotalPrice(price);\r\n  }, [cart]);\r\n\r\n  //function to make the payment when the checkout button  is clicked\r\n  const makePayment = async (token) => {\r\n    const body = { token, totalPrice };\r\n\r\n    const { data } = await api.doPayment(body);\r\n    if (data.status === \"succeeded\") {\r\n      setPaymentMessage(\"Payment Successful!\");\r\n      dispatch(emptyCart());\r\n    } else {\r\n      setPaymentMessage(\"Something went wrong!\");\r\n    }\r\n    setTimeout(() => {\r\n      setPaymentMessage(\"\");\r\n    }, 5000);\r\n  };\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid\r\n          container\r\n          justify=\"space-between\"\r\n          alignItems=\"stretch\"\r\n          spacing={3}\r\n          className={classes.gridContainer}\r\n        >\r\n          <Grid item xs={12} sm={6} md={8}>\r\n            {cart.length > 0 &&\r\n              cart.map((cartItem) => (\r\n                <CartItem key={cartItem._key} book={cartItem} />\r\n              ))}\r\n            {cart.length <= 0 && (\r\n              <div style={{ marginTop: \"20px\" }}>\r\n                <Paper elevation={3}>\r\n                  <Box sx={{ padding: \"30px 20px !important\" }}>\r\n                    <Typography variant=\"h5\" color=\"primary\" component=\"h1\">\r\n                      Your cart is empty\r\n                    </Typography>\r\n                  </Box>\r\n                </Paper>\r\n              </div>\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <Paper elevation={3}>\r\n                <Box sx={{ padding: \"30px 20px !important\" }}>\r\n                  <Typography variant=\"h5\" color=\"primary\" component=\"h1\">\r\n                    Cart Summary\r\n                  </Typography>\r\n                  <div style={{ margin: \"30px 0\" }}>\r\n                    <Typography variant=\"h6\" color=\"error\" component=\"h6\">\r\n                      Order Total ({totalItems} Item): {totalPrice}\r\n                    </Typography>\r\n                  </div>\r\n                  {/* stripe component for getting the card info */}\r\n                  {user?.result?.name && totalItems >= 1 && (\r\n                    <StripeCheckout\r\n                      stripeKey={KEY}\r\n                      billingAddress\r\n                      token={makePayment}\r\n                      name=\"Checkout and Pay\"\r\n                      amount={totalPrice * 100}\r\n                    >\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        disabled={totalItems < 1}\r\n                      >\r\n                        Proceed to Checkout\r\n                      </Button>\r\n                    </StripeCheckout>\r\n                  )}\r\n                  {paymentMessage !== \"\" && (\r\n                    <div style={{ marginTop: \"10px\" }}>\r\n                      <Typography variant=\"h3\" component=\"p\">\r\n                        {paymentMessage}\r\n                      </Typography>\r\n                    </div>\r\n                  )}\r\n                  {totalItems < 1 && (\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      disabled={totalItems < 1}\r\n                    >\r\n                      Proceed to Checkout\r\n                    </Button>\r\n                  )}\r\n                  {!user?.result?.name && (\r\n                    <Link to=\"/auth\">\r\n                      <Button>Log in to proceede to checkout</Button>\r\n                    </Link>\r\n                  )}\r\n                </Box>\r\n              </Paper>\r\n              <br />\r\n              <br />\r\n              <Paper elevation={3}>\r\n                <Box sx={{ padding: \"30px 20px !important\" }}>\r\n                  <Typography variant=\"h5\" color=\"primary\" component=\"h1\">\r\n                    For testing purposes please use Stripe credentials!\r\n                  </Typography>\r\n                  <img\r\n                    className={classes.image}\r\n                    src={stripe}\r\n                    alt=\"icon\"\r\n                    height=\"200px\"\r\n                  />\r\n                </Box>\r\n              </Paper>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { blue, red } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  media: {\r\n    borderRadius: \"20px\",\r\n    objectFit: \"cover\",\r\n    width: \"100%\",\r\n    maxHeight: \"600px\",\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexWrap: \"wrap\",\r\n      flexDirection: \"column\",\r\n    },\r\n    backgroundColor: blue[50],\r\n  },\r\n  section: {\r\n    borderRadius: \"20px\",\r\n    margin: \"10px\",\r\n    flex: 1,\r\n  },\r\n  imageSection: {\r\n    marginLeft: \"20px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  recommendedPosts: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  loadingPaper: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: \"20px\",\r\n    borderRadius: \"15px\",\r\n    height: \"39vh\",\r\n  },\r\n  commentsOuterContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  commentsInnerContainer: {\r\n    height: \"200px\",\r\n    overflowY: \"auto\",\r\n    marginRight: \"30px\",\r\n  },\r\n  buttonSubmit: {\r\n    backgroundColor: red[200],\r\n  },\r\n}));\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider,\r\n} from \"@material-ui/core/\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { getBook, getBooksBySearch } from \"../../actions/books\";\r\nimport { addToCart } from \"../../actions/cart\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport useStyles from \"./styles\";\r\n\r\n//book detail component\r\nconst Book = () => {\r\n  //state variables from react redux store\r\n  const { book, books, isLoading } = useSelector((state) => state.books);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getBook(id));\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (book) {\r\n      //dispatching the action to search the book\r\n      dispatch(\r\n        getBooksBySearch({ search: \"none\", tags: book?.tags.join(\",\") })\r\n      );\r\n    }\r\n  }, [book, dispatch]);\r\n\r\n  if (!book) return null;\r\n\r\n  const openBook = (_id) => history.push(`/books/${_id}`);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Paper elevation={6} className={classes.loadingPaper}>\r\n        <CircularProgress size=\"7em\" />\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  //filtering the books\r\n  const recommendedBooks = books.filter(({ _id }) => _id !== book._id);\r\n\r\n  return (\r\n    <Paper style={{ padding: \"20px\", borderRadius: \"15px\" }} elevation={6}>\r\n      <div className={classes.card}>\r\n        <div className={classes.section}>\r\n          <Typography variant=\"h3\" color=\"primary\" component=\"h2\">\r\n            {book.title}\r\n          </Typography>\r\n          <Typography variant=\"h6\" component=\"h2\">\r\n            by: {book.author}\r\n          </Typography>\r\n          <Typography variant=\"h6\" component=\"p\">\r\n            year: {book.year}\r\n          </Typography>\r\n          <Typography variant=\"h6\" component=\"p\">\r\n            publisher: {book.publisher}\r\n          </Typography>\r\n\r\n          <Typography\r\n            gutterBottom\r\n            variant=\"h6\"\r\n            color=\"textSecondary\"\r\n            component=\"h2\"\r\n          >\r\n            {book.tags.map((tag) => `#${tag} `)}\r\n          </Typography>\r\n          <Typography variant=\"h6\" color=\"error\" component=\"h2\">\r\n            Price: {book.price}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body1\" component=\"p\">\r\n            Description: {book.message}\r\n          </Typography>\r\n          <Button\r\n            className={classes.buttonSubmit}\r\n            variant=\"contained\"\r\n            color=\"success\"\r\n            size=\"large\"\r\n            type=\"submit\"\r\n            fullWidth\r\n            onClick={() => {\r\n              dispatch(addToCart(book));\r\n            }}\r\n          >\r\n            Add to cart\r\n          </Button>\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n        </div>\r\n        <div className={classes.imageSection}>\r\n          <img\r\n            className={classes.media}\r\n            src={\r\n              book.selectedFile ||\r\n              \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\r\n            }\r\n            alt={book.title}\r\n          />\r\n        </div>\r\n      </div>\r\n      {!!recommendedBooks.length && (\r\n        <div className={classes.section}>\r\n          <Typography gutterBottom variant=\"h5\" color=\"success\">\r\n            You might also like:\r\n          </Typography>\r\n          <Divider />\r\n          <div className={classes.recommendedBooks}>\r\n            {recommendedBooks.map(({ title, message, selectedFile, _id }) => (\r\n              <div\r\n                style={{ margin: \"20px\", cursor: \"pointer\" }}\r\n                onClick={() => openBook(_id)}\r\n                key={_id}\r\n              >\r\n                <Typography gutterBottom variant=\"h6\">\r\n                  {title}\r\n                </Typography>\r\n\r\n                <Typography gutterBottom variant=\"subtitle2\">\r\n                  {message}\r\n                </Typography>\r\n                <img src={selectedFile} width=\"200px\" alt={selectedFile} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Book;\r\n","import React from \"react\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport PostDetails from \"./components/PostDetails/PostDetails\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport PostsPage from \"./components/PostsPage/PostsPage\";\r\nimport Auth from \"./components/Auth/Auth\";\r\nimport Home from \"./components/Home/Home\";\r\nimport About from \"./components/About/About\";\r\nimport Cart from \"./components/Cart/Cart\";\r\nimport BookDetails from \"./components/BookDetails/BookDetails\";\r\n\r\nconst App = () => {\r\n  //getting the user data saved in local storage\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  console.log(user);\r\n\r\n  return (\r\n    //adding react router and defining routes\r\n    <BrowserRouter>\r\n      <Container maxWidth=\"xl\">\r\n        <Navbar />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={() => <Redirect to=\"/books\" />} />\r\n          <Route path=\"/books\" exact component={Home} />\r\n          <Route path=\"/books/search\" exact component={Home} />\r\n          <Route path=\"/books/:id\" exact component={BookDetails} />\r\n          <Route path=\"/cart\" exact component={Cart} />\r\n          <Route path=\"/posts\" exact component={PostsPage} />\r\n          <Route path=\"/posts/search\" exact component={PostsPage} />\r\n          <Route path=\"/posts/:id\" exact component={PostDetails} />\r\n          <Route\r\n            path=\"/auth\"\r\n            exact\r\n            component={() => (!user ? <Auth /> : <Redirect to=\"/posts\" />)}\r\n          />\r\n          <Route path=\"/about\" exact component={About} />\r\n        </Switch>\r\n      </Container>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { reducers } from \"./reducers\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\n\r\n//creating a store using the reducers\r\nconst store = createStore(reducers, {}, compose(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}